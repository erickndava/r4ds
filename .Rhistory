getwd()
write_csv(diamonds, "diamonds.csv")
write.csv(diamonds, "diamonds.csv")
library(tidyverse)
ggplot(diamonds, aes(carat,price))+
geom_hex()
ggsave("diamonds.pdf")
library(hexbin)
install.packages(hexbin)
install.packages("hexbin")
library(hexbin)
ggplot(diamonds, aes(carat,price))+
geom_hex()
ggsave("diamonds.pdf")
write.csv(diamonds, "diamonds.csv")
install.packages("hexbin")
library(tidyverse)
library(hexbin)
ggplot(diamonds, aes(carat,price))+
geom_hex()
ggsave("diamonds.pdf")
write.csv(diamonds, "diamonds.csv")
install.packages("hexbin")
library(tidyverse)
library(hexbin)
ggplot(diamonds, aes(carat,price))+
geom_hex()
ggsave("diamonds.pdf")
write.csv(diamonds, "diamonds.csv")
getwd()
library(tidyverse)
as_tibble(iris)
library(tidylog)
as_tibble(iris)
tibble(y=1:5,y=1)
library(tidyverse)
as_tibble(iris)
tibble(x=1:5,
y=1,
z=x^2+y
)
tb
tb <- tibble(
':)'="smile",
''="space",
'2000'="number"
)
tb
tb <- tibble(
':)'="smile",
' '="space",
'2000'="number"
)
tb
tribble(
~x,~y,~z,
#--/--/----
"a",2,3.6,
"b",1,8.5
)
tribble(
~x,~y,~z,
"a",2,3.6,
"b",1,8.5
)
tibble(
a=lubridate::now()+runif(1e3)+86400,
b=lubridate::today()+runif(1e3)+30,
c=1:1e3,
d=runif(1e3),
e=sample(letters, 1e3, replace = TRUE)
)
tibble(
a=lubridate::now()+runif(1e3)+86400,
b=lubridate::today()+runif(1e3)+30,
c=1:1e3,
d=runif(1e3),
e=sample(letters, 1e3, replace = TRUE)
)
nycflights13::flights %>%
print(n=10, width=Inf)
nycflights13::flights %>%
head(10)
nycflights13::flights %>%
View()
class(as.data.frame(tb))
mtcars;
cars_tibble <- as_tibble(mtcars)
cars_tibble
heights <- read_csv("data/heights.csv")
arsed with column specification:
#> cols(
#> earn = col_double(),
#> height = col_double(),
#> sex = col_character(),
#> ed = col_integer(),
#> age = col_integer(),
#> race = col_character()
#> )
wards <- read_csv("wards.csv")
read.csv("a,b,c
1,2,3
4,5,6")
read_csv("a,b,c
1,2,3
4,5,6")
read_csv("The first line of meta data
The second line of metadata
x,y,z
1,2,3", skip = 2)
read_csv("1,2,3\n4,5,6", colnames = FALSE)
read_csv("1,2,3\n4,5,6", col_names = FALSE)
read_csv("1,2,3\n4,5,6", col_names = C("X","y","Z"))
read_csv("1,2,3\n4,5,6", col_names = c("X","y","Z"))
stocks <- tibble(
year = c(2015, 2015, 2016, 2016),
half=c(1, 2, 1, 2),
return=c(1.88, 0.59, 0.92, 0.17)
)
View(stocks)
stocks <- tibble(
year = c(2015, 2015, 2016, 2016),
half=c(1, 2, 1, 2),
return=c(1.88, 0.59, 0.92, 0.17)
)
View(stocks)
library(tidyverse)
stocks <- tibble(
year = c(2015, 2015, 2016, 2016),
half=c(1, 2, 1, 2),
return=c(1.88, 0.59, 0.92, 0.17)
)
View(stocks)
library("tidyverse)"
g
library("tidyverse")
stocks <- tibble(
year = c(2015, 2015, 2016, 2016),
half=c(1, 2, 1, 2),
return=c(1.88, 0.59, 0.92, 0.17)
)
View(stocks)
library(tidyverse)
library("tidyverse")
library(tidyverse)
install.packages("tidyverse")
1library(tidyverse)
stocks <- tibble(
year = c(2015, 2015, 2016, 2016),
half=c(1, 2, 1, 2),
return=c(1.88, 0.59, 0.92, 0.17)
)
View(stocks)
library(tidyverse)
stocks <- tibble(
year = c(2015, 2015, 2016, 2016),
half=c(1, 2, 1, 2),
return=c(1.88, 0.59, 0.92, 0.17)
)
View(stocks)
stocks %>%
spread(year, return)
stocks %>%
spread(year, return) %>%
gather("year","return","2015":"206")
stocks %>%
spread(year, return) %>%
gather("year","return","2015":"2016")
preg <- tribble(
~pregnant, ~male, ~female,
"yes", NA, 10,
"no", 20, 12
)
View(preg)
preg
getwd()
exit
quit()
tibble(x=c("a,b,c", "d,e,f,g","h,i,j")) %>%
cc
tibble(x=c("a,b,c", "d,e,f,g","h,i,j"))
library(tidyverse)
tibble(x=c("a,b,c", "d,e,f,g","h,i,j"))
separate(x, c("one","two","three"))
tibble(x=c("a,b,c", "d,e,f,g","h,i,j")) %>%
separate(x, c("one","two","three"))
tibble(x=c("a,b,c", "d,e,f,g","h,i,j")) %>%
separate(x, c("one","two","three") remove = FALSE)
tibble(x=c("a,b,c", "d,e,f,g","h,i,j")) %>%
separate(x, c("one","two","three"), remove = FALSE)
stocks <- tibble(
year = c(2015, 2015, 2015, 2016, 2016, 2016),
qtr = c(1, 2, 3, 4, 2, 3, 4),
return = c(1.88, 0.59, 0.35, NA, 0.92, 0.17, 2.66)
)
stocks <- tibble(
year = c(2015, 2015, 2015, 2015, 2016, 2016, 2016),
qtr = c(1, 2, 3, 4, 2, 3, 4),
return = c(1.88, 0.59, 0.35, NA, 0.92, 0.17, 2.66)
)
stocks
stocks %>%
spread(year,return)
who
View(who)
who1 <- who %>%
gather(
new_sp_m014:newrel_f65, key = "key",
value = "cases",
na.rm = TRUE
)
View(who1)
who1 %>%
count(key)
who2 <- who1 %>%
mutate(key = stringr::str_replace(key, "newrel","new_rel"))
View(who2)
who3 <- who2 %>%
separate(key,c("new","type","sexage"), sep="_")
View(who3)
who4 <- who3 %>%
select(-new,-iso2,-iso3)
View(who4)
#Separate sexage into sex and age
who5 <- who4 %>%
separate(sexage, c("sex","age"),sep=1)
View(who5)
who6 <- who %>%
gather(code,value,new_sp_m014:newrel_f65,na.rm=TRUE) %>%
mutate(
code=stringr::str_replace(code, "newrel","new_rel")
) %>%
separet(code,c("new","var","sexage")) %>%
select(-new,-iso2,-iso3) %>%
separate(sexage,c("sex","age"),sep=1)
View(who6)
who6 <- who %>%
gather(code,value,new_sp_m014:newrel_f65,na.rm=TRUE) %>%
mutate(
code=stringr::str_replace(code, "newrel","new_rel")
) %>%
separate(code,c("new","var","sexage")) %>%
select(-new,-iso2,-iso3) %>%
separate(sexage,c("sex","age"),sep=1)
View(who6)
install.packages("nycflights13")
#Case Study with WHO TB Data
ibrary(tidyverse)
#Case Study with WHO TB Data
library(tidyverse)
#Case Study with WHO TB Data
library(tidyverse)
View(who)
who1 <- who %>%
gather(
new_sp_m014:newrel_f65, key = "key",
value = "cases",
na.rm = TRUE
)
View(who1)
who1 %>%
count(key)
who2 <- who1 %>%
mutate(key = stringr::str_replace(key, "newrel","new_rel"))
View(who2)
who3 <- who2 %>%
separate(key,c("new","type","sexage"), sep="_")
View(who3)
who4 <- who3 %>%
select(-new,-iso2,-iso3)
View(who4)
#Separate sexage into sex and age
who5 <- who4 %>%
separate(sexage, c("sex","age"),sep=1)
View(who5)
#The Separate code all together
who6 <- who %>%
gather(code,value,new_sp_m014:newrel_f65,na.rm=TRUE) %>%
mutate(
code=stringr::str_replace(code, "newrel","new_rel")
) %>%
separate(code,c("new","var","sexage")) %>%
select(-new,-iso2,-iso3) %>%
separate(sexage,c("sex","age"),sep=1)
View(who6)
country_count <- who6 %>%
group_by(country) %>%
count=n()
country_count <- who6 %>%
group_by(country) %>%
(summarise(count=n())
country_count <- who6 %>%
group_by(country) %>%
(summarise(count(value))
country_count <- who6 %>%
group_by(country) %>%
summarise(count(value))
country_count <- who6 %>%
group_by(country) %>%
summarise(count(value))
country_count <- who6 %>%
group_by(country, year, sex) %>%
filter(year>1995)
summarise(cases=sum(values))
country_count <- who6 %>%
group_by(country, year, sex) %>%
filter(year>1995)
summarise(cases=sum(value))
country_count <- who6 %>%
group_by(country, year, sex) %>%
filter(year>1995)
summarise(value=sum(value))
country_count <- who6 %>%
group_by(country, year, sex) %>%
filter(year>1995)
summarise(cases=sum(cases))
country_count <- who1 %>%
group_by(country, year, sex) %>%
filter(year>1995)
summarise(cases=sum(cases))
quit()
airlines
library(tidyverse)
library(nycflights13)
airlines
View(airlines)
airlines %>% head(6)
airports %>% head(6)
planes %>% head(6)
weather %>% head(6)
airports %>% head(6)
planes %>%
count(tailnum)
filter(n>1)
planes %>%
count(tailnum) %>%
filter(n>1)
flights2 <- flights %>%
select(year:day,hour,origin,dest,tailnum,carrier)
View(flights2)
flights2 %>%
select(-origin,-dest) %>%
left_join(airlines, by="carrier")
View(airlines)
x <- tribble(
~key,~val_x,
1,"x1",
2,"x2",
3,"x3"
)
y <- tribble(
~key, ~val_y,
1,"y1",
2,"y2",
4,"y4"
)
x%
x %>%
inner_join(y, by="key")
x
y
x %>%
inner_join(y, by="key")
j_left_join <- x %>%
left_join(y, by="key")
View(j_left_join)
j_right_join <- x %>%
right_join(y, by="key")
View(j_right_join)
j_full_join <- x %>%
full_join(y, by="key")
View(j_full_join)
